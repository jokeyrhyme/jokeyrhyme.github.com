<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="/bower_components/mocha/mocha.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
    <script>
      (window.require || document.write('<script src="/bower_components/requirejs/require.js"><\/script>'));
    </script>
    <script src="/js/require.config.js"></script>
  </head>
  <body>
    <div id="mocha"></div>
    <h1>Web Experiments: IndexedDB Images</h1>
    <p>This experiment combines the following:</p>
    <ul>
      <li>retrieving Blobs via XHR2 and CORS</li>
      <li>converting Blobs and storing in IndexedDB</li>
      <li>converting Blobs from IndexedDB in Data URIs</li>
      <li>displaying Blobs as images via Data URIs</li>
      <li>creating Blob URLs as direct references to Blobs</li>
      <li>displaying Blobs as images via Blob URLs</li>
    </ul>
    <p>This example does not attempt direct storage of Blobs in IndexedDB
    as this is not currently supported in Chrome.</p>
    <h2>Images</h2>
    <figure>
      <figcaption>direct reference</figcaption>
      <img id="direct" />
    </figure>
    <figure>
      <figcaption>Data URI (from IndexedDB, converted to Base64)</figcaption>
      <img id="datauri" />
    </figure>
    <figure>
      <figcaption>Blob URL (from IndexedDB, converted to Blob)</figcaption>
      <img id="bloburl" />
    </figure>
    <script src="/bower_components/mocha/mocha.js"></script>
    <script src="/js/base64toBlob.js"></script>
    <script src="test.js"></script>
  </body>
</html>
